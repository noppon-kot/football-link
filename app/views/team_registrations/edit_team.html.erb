<div class="app-shell">
  <header class="app-header">
    <div class="app-top-nav">
      <%= link_to "←", teams_tournament_path(@tournament), class: "app-top-nav-left", style: "text-decoration:none;" %>
      <div class="app-top-nav-center">แก้ไขข้อมูลทีม</div>
      <div class="app-top-nav-right"></div>
    </div>
    <div class="app-header-title"><%= @tournament.title %></div>
  </header>

  <div class="container py-3">
    <div class="card shadow-sm">
      <div class="card-body">
        <% if flash[:alert].present? %>
          <div class="alert alert-danger" role="alert">
            <%= flash[:alert] %>
          </div>
        <% end %>

        <%= form_with model: @team,
                      url: update_team_tournament_team_registration_path(@tournament, @registration),
                      method: :patch,
                      local: true do |f| %>
          <div class="mb-3">
            <label class="form-label">ชื่อทีม</label>
            <%= f.text_field :name, class: "form-control" %>
          </div>

          <div class="mb-3">
            <label class="form-label">ชื่อผู้จัดการทีม</label>
            <%= f.text_field :contact_name, class: "form-control" %>
          </div>

          <div class="mb-3">
            <label class="form-label">เบอร์โทรผู้จัดการทีม</label>
            <%= f.telephone_field :contact_phone, class: "form-control" %>
          </div>

          <div class="mb-3">
            <label class="form-label">LINE ID ผู้จัดการทีม (ไม่บังคับ)</label>
            <%= f.text_field :line_id, class: "form-control" %>
          </div>

          <div class="mb-3">
            <label class="form-label">โลโก้ทีม</label>
            <% if @team.logo.attached? %>
              <div class="mb-2">
                <%= image_tag @team.logo, class: "rounded-circle", style: "width:48px;height:48px;object-fit:cover;" %>
              </div>
            <% end %>
            <%= f.file_field :logo, class: "form-control" %>
            <small class="text-muted">ถ้าไม่เลือกไฟล์ใหม่ ระบบจะใช้โลโก้เดิม</small>
          </div>

          <div class="d-flex justify-content-end" style="gap:8px;">
            <%= link_to "ยกเลิก", teams_tournament_path(@tournament), class: "btn btn-outline-secondary" %>
            <%= f.submit "บันทึก", class: "btn btn-primary" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
